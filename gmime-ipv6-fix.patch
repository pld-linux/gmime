--- gmime-2.1.0/gmime/gmime-host-utils.c.orig	2003-08-09 18:09:49.000000000 +0200
+++ gmime-2.1.0/gmime/gmime-host-utils.c	2003-09-05 08:20:22.706850232 +0200
@@ -308,7 +308,7 @@
 	}
 	
 	memset (&hints, 0, sizeof (struct addrinfo));
-	hints.ai_flags = AI_CANONNAME | AI_NUMERIC;
+	hints.ai_flags = AI_CANONNAME | AI_NUMERICHOST;
 	hints.ai_family = af == AF_INET6 ? PF_INET6 : PF_INET;
 	hints.ai_socktype = 0;
 	hints.ai_protocol = 0;
@@ -324,22 +324,22 @@
 	
 	/* h_name */
 	strcpy (buf, res->ai_canonname);
-	host->h_name = buf;
+	hostbuf->h_name = buf;
 	buf += len;
 	
 	/* h_aliases */
 	((char **) buf)[0] = NULL;
-	host->h_aliases = (char **) buf;
+	hostbuf->h_aliases = (char **) buf;
 	buf += sizeof (char *);
 	
 	/* h_addrtype and h_length */
-	host->h_length = res->ai_addrlen;
+	hostbuf->h_length = res->ai_addrlen;
 	if (res->ai_family == PF_INET6) {
 		hostbuf->h_addrtype = AF_INET6;
 		
 		addr = (char *) &((struct sockaddr_in6 *) res->ai_addr)->sin6_addr;
 	} else {
-		host->h_addrtype = AF_INET;
+		hostbuf->h_addrtype = AF_INET;
 		
 		addr = (char *) &((struct sockaddr_in *) res->ai_addr)->sin_addr;
 	}
